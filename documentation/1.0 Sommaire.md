# ðŸ“‘ Sommaire â€” Docker + CRA + GitHub Actions + DÃ©ploiement

1. **Introduction**
    
    - Objectif du guide
    - Outils utilisÃ©s (Docker, Nginx, CRA, GitHub Actions, VPS Ionos)
        

---

2. **React + Docker : Mode DÃ©veloppement**  
    2.1. Dockerfile.dev  
    2.2. docker-compose (service `client-dev`)  
    2.3. Commandes pour lancer en dev (hot reload)
    

---

3. **React + Docker : Mode Production**  
    3.1. Dockerfile (multi-stage build avec Nginx)  
    3.2. nginx.conf optimisÃ© pour React Router  
    3.3. docker-compose (service `server`)  
    3.4. Commandes de build & run en local
    

---

4. **Gestion des Variables dâ€™Environnement**  
    4.1. Fichier `.env` (par dÃ©faut)  
    4.2. `--build-arg` lors du `docker build`  
    4.3. PrioritÃ© entre `.env` et `--build-arg`
    

---

5. **GitHub Actions & CI/CD**  
    5.1. PrÃ©sentation du workflow `deploy.yml`  
    5.2. Ã‰tapes : build â†’ push â†’ deploy  
    5.3. Exemples de configuration (build args dynamiques)
    

---

6. **Bearer Token (PAT) GitHub**  
    6.1. Pourquoi un PAT est nÃ©cessaire  
    6.2. CrÃ©ation dâ€™un PAT fine-grained  
    6.3. Droits & permissions minimales  
    6.4. Ajout en secret GitHub Actions
    

---

7. **DÃ©clencher un Workflow par API**  
    7.1. Endpoint GitHub REST API `/dispatches`  
    7.2. Exemple de requÃªte `curl` (avec `client_payload`)  
    7.3. VÃ©rification des rÃ©ponses HTTP (204, 401, 403, 404)
    

---

8. **DÃ©ploiement sur VPS (Ionos)**  
    8.1. Firewall externe Ionos (ports 80/443)  
    8.2. Firewall interne (UFW)  
    8.3. Mapping des ports (`-p 80:8080`)  
    8.4. Commandes SSH pour lancer/arrÃªter un conteneur
    

---

9. **RÃ©capitulatif Complet du Pipeline**  
    9.1. Dev â†’ `docker compose up client-dev`  
    9.2. Prod local â†’ `docker build && docker run`  
    9.3. POST API â†’ dÃ©clenche workflow  
    9.4. Build & push image â†’ Docker Hub  
    9.5. DÃ©ploiement auto sur VPS (port 80)
    
